{% extends "base.html" %}
{% set active_page = "base" %}

{% block content %}
<div class="page-header">
    <h1>Connect to Hanlon API <small>Enter the URL for the Hanlon API endpoint</small></h1>
</div>
<div class="well">
    <form class="form-horizontal">

            <label for="hanlonURL">Hanlon API Endpoint</label>
            <input type="text" class="form-control" id="hanlonURL" placeholder="http://<autodeploynode>:<port>/<endpoint>">
        <hr>
        <button type="submit" class="btn btn-default" id="hanlonURLTestButton">Test Connection</button>
    </form>

    <script type=text/javascript>
        $(function() {
            $('#hanlonURLTestButton').bind('click', function() {
                testURL = $('#hanlonURL').val();
                console.log("Attempting request to: " + testURL);
                $.ajax({
                    url: testURL,
                    type: 'GET',
                    dataType: 'jsonp',
                    crossDomain: true,
                })
                .done(function(data) {
                    console.log(data);
                })
                .fail(function() {
                    console.log("Failed to connect to Hanlon API");
                })
                return false;
            })
        })
    </script>
</div>
{% endblock content %}
